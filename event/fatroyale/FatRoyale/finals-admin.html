<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tournament Admin - The Finals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        body {
            font-family: 'Orbitron', monospace;
        }
        
        .neon-glow {
            text-shadow: 0 0 10px rgba(168, 85, 247, 0.8), 0 0 20px rgba(168, 85, 247, 0.6);
        }
        
        .cyber-border {
            border: 2px solid;
            border-image: linear-gradient(45deg, #a855f7, #fbbf24) 1;
        }
        
        .glow-input:focus {
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.5);
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen">
    <!-- Auth Check -->
    <div id="authScreen" class="fixed inset-0 bg-gray-900 z-50 flex items-center justify-center">
        <div class="bg-gray-800 p-8 rounded-lg cyber-border max-w-md w-full mx-4">
            <h1 class="text-2xl font-bold text-purple-400 neon-glow mb-6 text-center">ADMIN ACCESS</h1>
            <form onsubmit="checkAuth(event)">
                <input 
                    type="password" 
                    id="passwordInput"
                    placeholder="Enter password"
                    class="w-full p-3 bg-gray-700 rounded border border-purple-500 focus:outline-none glow-input"
                    autofocus
                >
                <button 
                    type="submit"
                    class="w-full mt-4 p-3 bg-purple-600 hover:bg-purple-700 rounded font-bold transition-colors"
                >
                    ACCESS ADMIN PANEL
                </button>
            </form>
            <p id="authError" class="mt-4 text-red-500 text-center hidden">Invalid password</p>
        </div>
    </div>

    <!-- Admin Panel (Hidden by default) -->
    <div id="adminPanel" class="hidden">
        <!-- Header -->
        <header class="bg-black bg-opacity-50 backdrop-blur-sm border-b border-purple-500">
            <div class="container mx-auto px-4 py-6">
                <h1 class="text-3xl font-black text-center neon-glow text-purple-400">
                    TOURNAMENT ADMIN
                </h1>
                <div class="text-center mt-4">
                    <a href="/" class="text-yellow-400 hover:text-yellow-300 transition-colors">
                        ‚Üê Back to Dashboard
                    </a>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-8 max-w-4xl">
            <!-- Status Messages -->
            <div id="statusMessage" class="hidden mb-6 p-4 rounded"></div>

            <!-- Current Data Display -->
            <section class="mb-8">
                <h2 class="text-2xl font-bold mb-4 text-purple-400 neon-glow">CURRENT DATA</h2>
                <div class="bg-gray-800 rounded-lg p-4 cyber-border">
                    <pre id="currentData" class="text-xs text-gray-300 overflow-x-auto"></pre>
                </div>
            </section>

            <!-- Forms Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Update Team Points -->
                <section>
                    <h2 class="text-xl font-bold mb-4 text-purple-400">UPDATE TEAM POINTS</h2>
                    <form onsubmit="updateTeam(event)" class="bg-gray-800 rounded-lg p-6 cyber-border">
                        <div class="mb-4">
                            <label class="block mb-2 text-gray-300">Team Name</label>
                            <input 
                                type="text" 
                                name="teamName"
                                placeholder="Team Alpha"
                                required
                                class="w-full p-3 bg-gray-700 rounded border border-purple-500 focus:outline-none glow-input"
                            >
                        </div>
                        <div class="mb-4">
                            <label class="block mb-2 text-gray-300">Points</label>
                            <input 
                                type="number" 
                                name="teamPoints"
                                placeholder="6"
                                min="0"
                                required
                                class="w-full p-3 bg-gray-700 rounded border border-purple-500 focus:outline-none glow-input"
                            >
                        </div>
                        <button 
                            type="submit"
                            class="w-full p-3 bg-purple-600 hover:bg-purple-700 rounded font-bold transition-colors"
                        >
                            UPDATE TEAM
                        </button>
                    </form>
                </section>

                <!-- Update Player Score -->
                <section>
                    <h2 class="text-xl font-bold mb-4 text-purple-400">UPDATE PLAYER SCORE</h2>
                    <form onsubmit="updatePlayer(event)" class="bg-gray-800 rounded-lg p-6 cyber-border">
                        <div class="mb-4">
                            <label class="block mb-2 text-gray-300">Player Name</label>
                            <input 
                                type="text" 
                                name="playerName"
                                placeholder="xXx_Sniper_xXx"
                                required
                                class="w-full p-3 bg-gray-700 rounded border border-purple-500 focus:outline-none glow-input"
                            >
                        </div>
                        <div class="mb-4">
                            <label class="block mb-2 text-gray-300">Impact Score</label>
                            <input 
                                type="number" 
                                name="playerScore"
                                placeholder="45.5"
                                min="0"
                                step="0.1"
                                required
                                class="w-full p-3 bg-gray-700 rounded border border-purple-500 focus:outline-none glow-input"
                            >
                        </div>
                        <button 
                            type="submit"
                            class="w-full p-3 bg-purple-600 hover:bg-purple-700 rounded font-bold transition-colors"
                        >
                            UPDATE PLAYER
                        </button>
                    </form>
                </section>
            </div>

            <!-- Add Match Result -->
            <section class="mt-8">
                <h2 class="text-xl font-bold mb-4 text-purple-400">ADD MATCH RESULT</h2>
                <form onsubmit="addMatch(event)" class="bg-gray-800 rounded-lg p-6 cyber-border">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block mb-2 text-gray-300">Round</label>
                            <input 
                                type="text" 
                                name="matchRound"
                                placeholder="2 - Terminal Attack"
                                required
                                class="w-full p-3 bg-gray-700 rounded border border-purple-500 focus:outline-none glow-input"
                            >
                        </div>
                        <div>
                            <label class="block mb-2 text-gray-300">Result</label>
                            <input 
                                type="text" 
                                name="matchResult"
                                placeholder="Team Alpha 3, Team Bravo 1"
                                required
                                class="w-full p-3 bg-gray-700 rounded border border-purple-500 focus:outline-none glow-input"
                            >
                        </div>
                    </div>
                    <button 
                        type="submit"
                        class="w-full p-3 bg-purple-600 hover:bg-purple-700 rounded font-bold transition-colors"
                    >
                        ADD MATCH
                    </button>
                </form>
            </section>

            <!-- Data Management -->
            <section class="mt-8">
                <h2 class="text-xl font-bold mb-4 text-purple-400">DATA MANAGEMENT</h2>
                <div class="bg-gray-800 rounded-lg p-6 cyber-border">
                    <div class="space-y-4">
                        <button 
                            onclick="downloadData()"
                            class="w-full p-3 bg-yellow-600 hover:bg-yellow-700 rounded font-bold transition-colors"
                        >
                            DOWNLOAD data.json
                        </button>
                        <button 
                            onclick="clearAllData()"
                            class="w-full p-3 bg-red-600 hover:bg-red-700 rounded font-bold transition-colors"
                        >
                            CLEAR ALL DATA
                        </button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Tournament data
        let tournamentData = {
            teams: [],
            players: [],
            matches: []
        };

        // Auth check
        function checkAuth(event) {
            event.preventDefault();
            const password = document.getElementById('passwordInput').value;
            
            if (password === 'admin123') {
                document.getElementById('authScreen').classList.add('hidden');
                document.getElementById('adminPanel').classList.remove('hidden');
                loadData();
            } else {
                document.getElementById('authError').classList.remove('hidden');
                document.getElementById('passwordInput').value = '';
            }
        }

        // Load data from localStorage (simulating server storage)
        function loadData() {
            const stored = localStorage.getItem('tournamentData');
            if (stored) {
                tournamentData = JSON.parse(stored);
            } else {
                // Initialize with sample data
                tournamentData = {
                    teams: [
                        { name: "Team Alpha", points: 6 },
                        { name: "Team Bravo", points: 3 },
                        { name: "Team Charlie", points: 1 }
                    ],
                    players: [
                        { name: "xXx_Sniper_xXx", score: 45.5 },
                        { name: "CashGrabber", score: 38.2 },
                        { name: "DefuseKing", score: 30.0 },
                        { name: "HeavyMetal", score: 28.5 },
                        { name: "LightSpeed", score: 25.0 }
                    ],
                    matches: [
                        { round: "1 - Quick Cash", result: "Team Alpha 3, Team Bravo 2" }
                    ]
                };
                saveData();
            }
            updateDataDisplay();
        }

        // Save data to localStorage and trigger download
        function saveData() {
            localStorage.setItem('tournamentData', JSON.stringify(tournamentData));
            updateDataDisplay();
            showStatus('Data saved successfully!', 'success');
        }

        // Update current data display
        function updateDataDisplay() {
            document.getElementById('currentData').textContent = JSON.stringify(tournamentData, null, 2);
        }

        // Show status message
        function showStatus(message, type) {
            const status = document.getElementById('statusMessage');
            status.textContent = message;
            status.className = `p-4 rounded ${type === 'success' ? 'bg-green-600' : 'bg-red-600'}`;
            status.classList.remove('hidden');
            setTimeout(() => status.classList.add('hidden'), 3000);
        }

        // Update team points
        function updateTeam(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const name = formData.get('teamName');
            const points = parseInt(formData.get('teamPoints'));
            
            const existingTeam = tournamentData.teams.find(t => t.name === name);
            if (existingTeam) {
                existingTeam.points = points;
            } else {
                tournamentData.teams.push({ name, points });
            }
            
            saveData();
            event.target.reset();
        }

        // Update player score
        function updatePlayer(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const name = formData.get('playerName');
            const score = parseFloat(formData.get('playerScore'));
            
            const existingPlayer = tournamentData.players.find(p => p.name === name);
            if (existingPlayer) {
                existingPlayer.score = score;
            } else {
                tournamentData.players.push({ name, score });
            }
            
            saveData();
            event.target.reset();
        }

        // Add match result
        function addMatch(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const round = formData.get('matchRound');
            const result = formData.get('matchResult');
            
            tournamentData.matches.push({ round, result });
            
            saveData();
            event.target.reset();
        }

        // Download data.json
        function downloadData() {
            const dataStr = JSON.stringify(tournamentData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'data.json';
            link.click();
            URL.revokeObjectURL(url);
        }

        // Clear all data
        function clearAllData() {
            if (confirm('Are you sure you want to clear ALL tournament data? This cannot be undone!')) {
                tournamentData = { teams: [], players: [], matches: [] };
                saveData();
            }
        }
    </script>
</body>
</html>