<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Feedback | The Finals Loadout</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" type="image/x-icon" href="images/favicon.ico" />
  </head>
  <body>
    <nav class="main-nav">
      <a href="https://thefinalsloadout.com/">Home</a>
      <a href="https://thefinalsloadout.com/ragequit/">Rage Quit Loadout</a>
      <a href="https://thefinalsloadout.com/patch-notes/">Patch Notes</a>
    </nav>

    <header class="headerSection">
      <img src="images/feedback-logo.webp" />
      <p>Feedback is a Gift! Let us know what you think.</p>
    </header>

    <main class="feedback-container">
      <iframe
        data-tally-src="https://tally.so/embed/wkveY1?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1"
        loading="lazy"
        width="100%"
        height="555"
        frameborder="0"
        marginheight="0"
        marginwidth="0"
        title="The Finals Loadout Feedback"
      ></iframe>
      <script>
        var d = document,
          w = "https://tally.so/widgets/embed.js",
          v = function () {
            "undefined" != typeof Tally
              ? Tally.loadEmbeds()
              : d
                  .querySelectorAll("iframe[data-tally-src]:not([src])")
                  .forEach(function (e) {
                    e.src = e.dataset.tallySrc;
                  });
          };
        if ("undefined" != typeof Tally) v();
        else if (d.querySelector('script[src="' + w + '"]') == null) {
          var s = d.createElement("script");
          (s.src = w), (s.onload = v), (s.onerror = v), d.body.appendChild(s);
        }
      </script>
    </main>

    <script>
      document
        .getElementById("feedback-form")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          const formData = new FormData(this);
          fetch("send.php", {
            method: "POST",
            body: formData,
          })
            .then((response) => response.text())
            .then((data) => {
              document.getElementById("feedback-response").style.display =
                "block";
              document.getElementById("feedback-form").reset();
            })
            .catch((error) => console.error("Error:", error));
        });
    </script>
  </body>
</html>
