<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>Help Us Make This Less Terrible | The Finals Loadout</title>
    <meta
      name="description"
      content="Spin the wheel, vent your frustrations, and maybe win a reward. Submit your feedback to help us make The Finals Loadout Generator slightly less terrible."
    />
    <link rel="canonical" href="https://thefinalsloadout.com/feedback/" />

    <!-- Open Graph -->
    <meta
      property="og:title"
      content="Help Us Make This Less Terrible | The Finals Loadout"
    />
    <meta
      property="og:description"
      content="Your feedback powers this site. Report bugs, suggest features, or just scream into the void."
    />
    <meta
      property="og:image"
      content="https://www.thefinalsloadout.com/images/feedback-logo3.webp"
    />
    <meta
      property="og:url"
      content="https://www.thefinalsloadout.com/feedback/"
    />
    <meta property="og:type" content="website" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Help Us Make This Less Terrible | The Finals Loadout"
    />
    <meta
      name="twitter:description"
      content="Submit feedback and you might just get your ridiculous idea added to the next patch."
    />
    <meta
      name="twitter:image"
      content="https://www.thefinalsloadout.com/images/feedback-logo3.webp"
    />

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Help Us Make This Less Terrible | The Finals Loadout",
        "description": "Submit feedback to improve The Finals Loadout Generator. Whether it’s bugs, feature requests, or passionate rants — we want to hear it.",
        "url": "https://www.thefinalsloadout.com/feedback/",
        "image": "https://www.thefinalsloadout.com/images/feedback-logo3.webp",
        "author": {
          "@type": "Organization",
          "name": "Paul Takisaki"
        }
      }
    </script>

    <!-- Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-GVGKYFGZ1Z"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-GVGKYFGZ1Z");
    </script>

    <!-- Fonts & Favicon -->
    <link rel="icon" type="image/x-icon" href="images/favicon.ico" />
    <link
      href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <nav class="main-nav">
      <a href="https://thefinalsloadout.com/">Home</a>
      <a href="https://thefinalsloadout.com/ragequit/">Rage Quit Loadout</a>
      <a href="https://thefinalsloadout.com/patch-notes/">Patch Notes</a>
    </nav>

    <header class="headerSection">
      <img
        src="images/feedback-logo3.webp"
        alt="Feedback Roulette"
        class="feedback-logo"
      />
      <h1 class="feedback-title">Help Us Make This Less Terrible</h1>
      <p class="feedback-subtitle">
        Your feedback directly shapes The Finals experience
      </p>
    </header>

    <!-- Feedback Rewards Program -->
    <section class="feedback-incentive">
      <div class="container">
        <h2>🎰 THIS MONTH'S FEEDBACK LOTTERY</h2>
        <p>
          Submit feedback to enter. Winner gets their loadout idea implemented!
        </p>
        <div class="last-winner">
          Last winner: xXSniperGodXx - "Throwing Knife Only Mode"
        </div>
        <div class="progress-container">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 60%"></div>
          </div>
          <span class="progress-text">3 more feedback until reward!</span>
        </div>
      </div>
    </section>

    <!-- Live Feedback Ticker -->
    <section class="social-proof">
      <div class="ticker-container">
        <div class="ticker-content" id="feedback-ticker">
          <!-- Ticker items will be populated by JavaScript -->
        </div>
      </div>
    </section>

    <main class="feedback-container">
      <!-- Search Existing Feedback -->
      <section class="search-feedback-section">
        <div class="container">
          <h2>🔍 Search Existing Feedback</h2>
          <p>Check if someone already reported your issue</p>
          <div class="search-container">
            <input type="text" id="feedback-search" placeholder="Search for bugs, features, weapons..." />
            <button class="search-btn" id="search-btn">
              <span class="search-icon">🔍</span>
            </button>
          </div>
          <div class="search-results" id="search-results"></div>
        </div>
      </section>

      <!-- Feedback Roulette Wheel -->
      <section class="feedback-roulette-section">
        <h2>🎰 SPIN TO PICK YOUR FEEDBACK TOPIC</h2>
        <div class="roulette-container">
          <div class="feedback-wheel" id="feedback-wheel">
            <div class="wheel-section" data-category="weapons">
              <span class="wheel-icon">🔫</span>
              <span class="wheel-text">WEAPONS</span>
            </div>
            <div class="wheel-section" data-category="ui">
              <span class="wheel-icon">🖥️</span>
              <span class="wheel-text">UI/UX</span>
            </div>
            <div class="wheel-section" data-category="bugs">
              <span class="wheel-icon">🐛</span>
              <span class="wheel-text">BUGS</span>
            </div>
            <div class="wheel-section" data-category="ideas">
              <span class="wheel-icon">💡</span>
              <span class="wheel-text">IDEAS</span>
            </div>
            <div class="wheel-section" data-category="rage">
              <span class="wheel-icon">😤</span>
              <span class="wheel-text">RAGE QUIT</span>
            </div>
          </div>
          <button class="spin-button" id="spin-feedback-wheel">SPIN IT!</button>
          <div class="wheel-pointer"></div>
        </div>
        <div
          class="selected-topic-badge"
          id="selected-topic-badge"
          style="display: none"
        >
          <span class="badge-icon">🎯</span>
          <span class="badge-text" id="badge-text">Topic Selected!</span>
        </div>
      </section>

      <!-- Quick Topic Buttons -->
      <section class="quick-topics">
        <h3>Or pick your poison directly:</h3>
        <div class="topic-buttons">
          <button class="topic-btn" onclick="setTopic('bug')">
            🐛 Report Bug
          </button>
          <button class="topic-btn" onclick="setTopic('weapon')">
            🔫 Weapon Balance
          </button>
          <button class="topic-btn" onclick="setTopic('feature')">
            ✨ New Feature
          </button>
          <button class="topic-btn" onclick="setTopic('rage')">
            😤 Rage Quit Mode
          </button>
          <button class="topic-btn" onclick="setTopic('love')">
            ❤️ Love It
          </button>
        </div>
      </section>

      <!-- Enhanced Feedback Form -->
      <section class="feedback-form-section">
        <form id="feedback-form" class="enhanced-form">
          <div class="form-group">
            <label for="feedback-type">What's your vibe?</label>
            <select id="feedback-type" name="type" required>
              <option value="">Choose your complaint...</option>
              <option value="bug">🐛 I found a game-breaking bug...</option>
              <option value="weapon">🔫 This weapon is OP as hell...</option>
              <option value="feature">💡 I have a dream feature...</option>
              <option value="ui">🖥️ UI makes me want to cry...</option>
              <option value="rage">😤 Matchmaking is pure pain...</option>
              <option value="love">❤️ Actually, I love something...</option>
            </select>
          </div>

          <div class="form-group">
            <label for="priority">How urgent is this?</label>
            <div class="priority-selector">
              <input type="radio" id="priority-low" name="priority" value="low" checked>
              <label for="priority-low" class="priority-option low">
                <span class="priority-icon">😴</span>
                <span class="priority-text">Whenever</span>
              </label>
              
              <input type="radio" id="priority-medium" name="priority" value="medium">
              <label for="priority-medium" class="priority-option medium">
                <span class="priority-icon">⚠️</span>
                <span class="priority-text">Soon Please</span>
              </label>
              
              <input type="radio" id="priority-high" name="priority" value="high">
              <label for="priority-high" class="priority-option high">
                <span class="priority-icon">🔥</span>
                <span class="priority-text">URGENT!</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label for="affected-device">What device/platform?</label>
            <select id="affected-device" name="device">
              <option value="">Select device...</option>
              <option value="pc">🖥️ PC (Windows)</option>
              <option value="mac">🍎 Mac</option>
              <option value="mobile-ios">📱 iPhone/iPad</option>
              <option value="mobile-android">🤖 Android</option>
              <option value="multiple">🌐 Multiple Devices</option>
            </select>
          </div>

          <div class="form-group" id="steps-group" style="display: none;">
            <label for="reproduction-steps">Steps to reproduce (for bugs)</label>
            <textarea
              id="reproduction-steps"
              name="steps"
              placeholder="1. Go to...&#10;2. Click on...&#10;3. Notice that..."
              rows="4"
            ></textarea>
          </div>

          <div class="form-group">
            <label for="feedback-text" id="feedback-label"
              >What's broken?</label
            >
            <textarea
              id="feedback-text"
              name="feedback"
              placeholder="Spill your guts here..."
              required
            ></textarea>
          </div>

          <div class="form-group">
            <label for="rating"
              >Rate your experience (weapon icons = better)</label
            >
            <div class="weapon-rating" id="weapon-rating">
              <span class="weapon-star" data-rating="1">🔫</span>
              <span class="weapon-star" data-rating="2">🔫</span>
              <span class="weapon-star" data-rating="3">🔫</span>
              <span class="weapon-star" data-rating="4">🔫</span>
              <span class="weapon-star" data-rating="5">🔫</span>
            </div>
            <input type="hidden" id="rating" name="rating" value="0" />
          </div>

          <div class="form-group">
            <label for="screenshots">Screenshots/Evidence (optional)</label>
            <div class="file-upload-area" id="file-upload-area">
              <input type="file" id="screenshots" name="screenshots" multiple accept="image/*,.mp4,.webm" style="display: none;">
              <div class="upload-prompt">
                <span class="upload-icon">📎</span>
                <span class="upload-text">Drag & drop images/videos or click to browse</span>
                <span class="upload-formats">Supports: JPG, PNG, GIF, MP4, WebM</span>
              </div>
              <div class="uploaded-files" id="uploaded-files"></div>
            </div>
          </div>

          <div class="form-group">
            <label for="tags">Tags (help us categorize)</label>
            <div class="tags-container">
              <input type="text" id="tag-input" placeholder="Type a tag and press Enter">
              <div class="suggested-tags">
                <span class="tag-suggestion" data-tag="balance">🔧 Balance</span>
                <span class="tag-suggestion" data-tag="UI">🎨 UI</span>
                <span class="tag-suggestion" data-tag="mobile">📱 Mobile</span>
                <span class="tag-suggestion" data-tag="performance">⚡ Performance</span>
                <span class="tag-suggestion" data-tag="audio">🔊 Audio</span>
                <span class="tag-suggestion" data-tag="matchmaking">🎯 Matchmaking</span>
              </div>
              <div class="selected-tags" id="selected-tags"></div>
            </div>
          </div>

          <div class="form-group">
            <label for="email">Email (optional - for follow-up)</label>
            <input
              type="email"
              id="email"
              name="email"
              placeholder="yourname@example.com"
            />
            <div class="email-incentive">
              💎 Drop your email for a chance at exclusive Season 7 beta access
            </div>
          </div>

          <div class="form-group" id="response-prefs" style="display: none;">
            <label>Response preferences</label>
            <div class="checkbox-group">
              <label class="checkbox-option">
                <input type="checkbox" name="response-type" value="email-updates" checked>
                <span class="checkmark">✓</span>
                <span class="checkbox-text">Email me updates on this issue</span>
              </label>
              <label class="checkbox-option">
                <input type="checkbox" name="response-type" value="newsletter">
                <span class="checkmark">✓</span>
                <span class="checkbox-text">Subscribe to development newsletter</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label>Want to submit this anonymously?</label>
            <div class="toggle-container">
              <input type="checkbox" id="anonymous-toggle" name="anonymous">
              <label for="anonymous-toggle" class="toggle-label">
                <span class="toggle-inner"></span>
                <span class="toggle-switch"></span>
              </label>
              <span class="toggle-text">Submit anonymously</span>
            </div>
          </div>

          <button type="submit" class="send-button" id="send-button">
            <span class="button-text">SEND IT</span>
            <span class="button-particles"></span>
          </button>
        </form>

        <div
          id="feedback-response"
          class="success-message"
          style="display: none"
        >
          <div class="jackpot-animation">
            <h2>🎰 JACKPOT! 🎰</h2>
            <p>FEEDBACK RECEIVED! You're now entered in the lottery</p>
            <div class="lottery-ticket">
              Your ticket: #<span id="lottery-number">0247</span>
            </div>
            <div class="falling-coins"></div>
            <div class="redirect-timer">
              Redirecting in <span id="countdown">3</span> seconds...
            </div>
          </div>
        </div>
      </section>
    </main>

    <script>
      // Enhanced feedback system with session tracking
      let feedbackCount = parseInt(
        localStorage.getItem("feedbackCount") || "0"
      );
      let isSpinning = false;

      // Enhanced ticker with more variety
      const feedbackExamples = [
        {
          user: "xXSniperXx",
          feedback: "Found a bug with Medium class loadouts",
          icon: "🐛",
        },
        {
          user: "RageQuitPro",
          feedback: "Sledgehammer is completely broken lol",
          icon: "🔨",
        },
        {
          user: "TacticalGamer",
          feedback: "Can we get a 'no explosives' mode?",
          icon: "💡",
        },
        {
          user: "AnimationFan",
          feedback: "The new roulette animation is sick!",
          icon: "❤️",
        },
        {
          user: "PunishmentSeeker",
          feedback: "Rage quit mode needs MORE punishment",
          icon: "😤",
        },
        {
          user: "BalanceGuru",
          feedback: "AKM needs a serious nerf",
          icon: "🔫",
        },
        {
          user: "UIExpert",
          feedback: "Mobile navigation could be cleaner",
          icon: "📱",
        },
        {
          user: "FeatureRequest",
          feedback: "Add loadout favorites system please",
          icon: "⭐",
        },
        {
          user: "BugHunter",
          feedback: "Spinner gets stuck on Firefox sometimes",
          icon: "🐛",
        },
        {
          user: "SoundDesigner",
          feedback: "Love the new audio effects!",
          icon: "🔊",
        },
      ];

      // Initialize ticker with randomized times
      function initializeTicker() {
        const ticker = document.getElementById("feedback-ticker");
        const shuffled = [...feedbackExamples].sort(() => Math.random() - 0.5);

        ticker.innerHTML = shuffled
          .map((item) => {
            const timeAgo = Math.floor(Math.random() * 6) + 2; // 2-8 hours ago
            return `<span class="ticker-item">
            <span class="ticker-icon">${item.icon}</span>
            <strong>${item.user}:</strong> "${item.feedback}" (${timeAgo}h ago)
          </span>`;
          })
          .join("");
      }

      // Enhanced wheel with hover and sound effects
      const wheelElement = document.getElementById("feedback-wheel");

      // Add hover effect to wheel
      wheelElement.addEventListener("mouseenter", function () {
        if (!isSpinning) {
          this.style.transform = `rotate(${currentRotation + 5}deg) scale(1.02)`;
          this.style.boxShadow = "0 0 40px rgba(255, 183, 0, 1)";
        }
      });

      wheelElement.addEventListener("mouseleave", function () {
        if (!isSpinning) {
          this.style.transform = `rotate(${currentRotation}deg) scale(1)`;
          this.style.boxShadow = "0 0 30px rgba(255, 183, 0, 0.8)";
        }
      });

      // Enhanced spinning logic with sound
      let currentRotation = 0; // Track wheel position
      
      document
        .getElementById("spin-feedback-wheel")
        .addEventListener("click", function () {
          if (isSpinning) return;

          isSpinning = true;
          const wheel = document.getElementById("feedback-wheel");
          
          // Play tick sound (simulated)
          playTickSound();

          // Calculate final landing position
          const spins = 3 + Math.random() * 2; // 3-5 full rotations
          const extraRotation = Math.random() * 360; // Random extra rotation
          const totalRotation = currentRotation + (360 * spins) + extraRotation;
          
          // Enhanced spin animation
          wheel.style.transition = "transform 3s cubic-bezier(0.23, 1, 0.32, 1)";
          wheel.style.transform = `rotate(${totalRotation}deg)`;

          setTimeout(() => {
            // Calculate which section the pointer is pointing to
            // Categories in wheel order: weapons(0°), ui(72°), bugs(144°), ideas(216°), rage(288°)
            const categories = ["weapons", "ui", "bugs", "ideas", "rage"];
            
            // Get the final rotation and normalize it
            const normalizedRotation = ((totalRotation % 360) + 360) % 360;
            
            // Since the wheel rotates but the pointer stays at top, we need to see which section
            // ends up under the pointer. The sections are 72° each.
            const sectionSize = 360 / categories.length; // 72 degrees
            
            // Calculate which section is under the pointer
            // We invert the rotation because as the wheel spins clockwise, 
            // sections move counter-clockwise relative to the fixed pointer
            const pointerAngle = (360 - normalizedRotation) % 360;
            const sectionIndex = Math.floor(pointerAngle / sectionSize);
            const selectedCategory = categories[sectionIndex];
            
            // Debug logging (can be removed later)
            console.log(`Wheel spun to: ${totalRotation.toFixed(1)}°`);
            console.log(`Normalized: ${normalizedRotation.toFixed(1)}°`);
            console.log(`Pointer angle: ${pointerAngle.toFixed(1)}°`);
            console.log(`Section index: ${sectionIndex}, Category: ${selectedCategory}`);
            
            // Update current rotation for next spin
            currentRotation = totalRotation;
            
            // Highlight the selected section briefly
            highlightSelectedSection(selectedCategory);
            
            setTopic(selectedCategory);
            showSelectedBadge(selectedCategory);
            isSpinning = false;
            
            // Add a small bounce effect when stopping
            wheel.style.transition = "transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55)";
            wheel.style.transform = `rotate(${totalRotation - 5}deg)`;
            
            setTimeout(() => {
              wheel.style.transform = `rotate(${totalRotation}deg)`;
              setTimeout(() => {
                // Remove transition to keep wheel in final position
                wheel.style.transition = "none";
              }, 500);
            }, 100);
          }, 3000);
        });

      // Highlight the selected wheel section
      function highlightSelectedSection(category) {
        const sections = document.querySelectorAll('.wheel-section');
        sections.forEach(section => {
          if (section.dataset.category === category) {
            // Add highlight effect
            section.style.background = 'rgba(255, 183, 0, 0.3)';
            section.style.transform = section.style.transform + ' scale(1.1)';
            section.style.boxShadow = '0 0 20px rgba(255, 183, 0, 0.8)';
            section.style.transition = 'all 0.3s ease';
            
            // Remove highlight after 2 seconds
            setTimeout(() => {
              section.style.background = '';
              section.style.transform = section.style.transform.replace(' scale(1.1)', '');
              section.style.boxShadow = '';
            }, 2000);
          }
        });
      }

      // Show selected topic badge
      function showSelectedBadge(category) {
        const badge = document.getElementById("selected-topic-badge");
        const badgeText = document.getElementById("badge-text");
        const categoryMap = {
          weapons: "🔫 WEAPONS SELECTED",
          ui: "🖥️ UI/UX SELECTED",
          bugs: "🐛 BUGS SELECTED",
          ideas: "💡 IDEAS SELECTED",
          rage: "😤 RAGE QUIT SELECTED",
        };

        badgeText.textContent = categoryMap[category] || "TOPIC SELECTED";
        badge.style.display = "block";
        badge.style.animation = "badgePop 0.5s ease-out";

        setTimeout(() => {
          badge.style.animation = "badgeFade 0.5s ease-out";
          setTimeout(() => (badge.style.display = "none"), 500);
        }, 3000);
      }

      // Enhanced topic setting with glow effects
      function setTopic(category) {
        const typeSelect = document.getElementById("feedback-type");
        const label = document.getElementById("feedback-label");
        const textarea = document.getElementById("feedback-text");

        const prompts = {
          bug: {
            label: "What's broken?",
            placeholder:
              "Describe the bug: What happened? What did you expect? Steps to reproduce?",
            value: "bug",
          },
          weapons: {
            label: "Which weapon made you rage?",
            placeholder:
              "Tell us about weapon balance issues, overpowered weapons, or underpowered ones...",
            value: "weapon",
          },
          ideas: {
            label: "What's your dream feature?",
            placeholder:
              "Describe your idea: What would make this site amazing? New features, improvements?",
            value: "feature",
          },
          ui: {
            label: "What confused you?",
            placeholder:
              "UI/UX feedback: What was confusing? Hard to find? Could be improved?",
            value: "ui",
          },
          rage: {
            label: "What made you rage?",
            placeholder:
              "Let it all out. What frustrated you about the site or the game?",
            value: "rage",
          },
          love: {
            label: "What do you love?",
            placeholder:
              "Tell us what's working great! What features do you love?",
            value: "love",
          },
        };

        if (prompts[category]) {
          label.textContent = prompts[category].label;
          textarea.placeholder = prompts[category].placeholder;
          typeSelect.value = prompts[category].value;

          // Add glow effect to form
          const form = document.querySelector(".enhanced-form");
          form.style.boxShadow = "0 0 30px rgba(255, 183, 0, 0.4)";
          setTimeout(() => {
            form.style.boxShadow = "0 15px 35px rgba(0, 0, 0, 0.5)";
          }, 2000);
        }
      }

      // Weapon rating system
      document.querySelectorAll(".weapon-star").forEach((star) => {
        star.addEventListener("click", function () {
          const rating = this.dataset.rating;
          document.getElementById("rating").value = rating;

          document.querySelectorAll(".weapon-star").forEach((s, index) => {
            if (index < rating) {
              s.style.filter = "sepia(1) hue-rotate(45deg) brightness(1.2)";
              s.style.transform = "scale(1.2)";
            } else {
              s.style.filter = "grayscale(1)";
              s.style.transform = "scale(1)";
            }
          });
        });
      });

      // Enhanced form submission with session tracking
      document
        .getElementById("feedback-form")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          feedbackCount++;
          localStorage.setItem("feedbackCount", feedbackCount.toString());

          const sendButton = document.getElementById("send-button");
          sendButton.classList.add("sending");
          sendButton.querySelector(".button-text").textContent = "SENDING...";

          // Simulate API call
          setTimeout(() => {
            showSuccessState();

            // Check for feedback frenzy mode
            if (feedbackCount >= 5) {
              triggerFeedbackFrenzy();
            }
          }, 2000);
        });

      // Enhanced success state with redirect
      function showSuccessState() {
        const form = document.getElementById("feedback-form");
        const response = document.getElementById("feedback-response");

        // Generate random lottery number
        const lotteryNumber = Math.floor(Math.random() * 9999)
          .toString()
          .padStart(4, "0");
        document.getElementById("lottery-number").textContent = lotteryNumber;

        form.style.display = "none";
        response.style.display = "block";

        // Trigger jackpot animation
        createJackpotEffect();

        // Start countdown timer
        let countdown = 3;
        const countdownElement = document.getElementById("countdown");
        const timer = setInterval(() => {
          countdown--;
          countdownElement.textContent = countdown;
          if (countdown <= 0) {
            clearInterval(timer);
            window.location.href = "../index.html";
          }
        }, 1000);
      }

      // Feedback Frenzy Mode - Easter Egg
      function triggerFeedbackFrenzy() {
        // Create confetti effect
        for (let i = 0; i < 50; i++) {
          const confetti = document.createElement("div");
          confetti.className = "confetti";
          confetti.style.left = Math.random() * 100 + "%";
          confetti.style.backgroundColor = [
            "#ff4444",
            "#ffb700",
            "#4444ff",
            "#44ff44",
          ][Math.floor(Math.random() * 4)];
          confetti.style.animationDelay = Math.random() * 3 + "s";
          document.body.appendChild(confetti);

          setTimeout(() => confetti.remove(), 5000);
        }

        // Show special badge
        const badge = document.createElement("div");
        badge.className = "frenzy-badge";
        badge.innerHTML = "🏆 FEEDBACK FRENZY UNLOCKED! 🏆";
        document.body.appendChild(badge);

        setTimeout(() => badge.remove(), 5000);
      }

      // Enhanced jackpot animation
      function createJackpotEffect() {
        const container = document.querySelector(".falling-coins");
        for (let i = 0; i < 30; i++) {
          const coin = document.createElement("div");
          coin.className = "coin";
          coin.textContent = ["💰", "🎰", "💎", "🏆"][
            Math.floor(Math.random() * 4)
          ];
          coin.style.left = Math.random() * 100 + "%";
          coin.style.animationDelay = Math.random() * 2 + "s";
          container.appendChild(coin);

          setTimeout(() => coin.remove(), 4000);
        }
      }

      // Simulated sound effect
      function playTickSound() {
        // Create a simple tick sound using Web Audio API
        try {
          const audioContext = new (window.AudioContext ||
            window.webkitAudioContext)();
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();

          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);

          oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
          gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
          gainNode.gain.exponentialRampToValueAtTime(
            0.01,
            audioContext.currentTime + 0.1
          );

          oscillator.start(audioContext.currentTime);
          oscillator.stop(audioContext.currentTime + 0.1);
        } catch (e) {
          // Fallback for browsers without Web Audio API
          console.log("Tick sound played");
        }
      }

      // Form focus glow effect
      const form = document.querySelector(".enhanced-form");
      form.addEventListener("focusin", function () {
        this.style.boxShadow = "0 0 30px rgba(255, 183, 0, 0.4)";
      });

      form.addEventListener("focusout", function () {
        this.style.boxShadow = "0 15px 35px rgba(0, 0, 0, 0.5)";
      });

      // ============================================
      // ENHANCED FUNCTIONALITY
      // ============================================

      // Search functionality
      function initSearchFunctionality() {
        const searchInput = document.getElementById('feedback-search');
        const searchBtn = document.getElementById('search-btn');
        const searchResults = document.getElementById('search-results');
        
        // Mock feedback database for search
        const feedbackDatabase = [
          { title: "AKM overpowered", content: "The AKM does too much damage", type: "weapon", votes: 24 },
          { title: "Mobile UI issues", content: "Buttons are too small on mobile", type: "ui", votes: 18 },
          { title: "Loading screen bug", content: "Game gets stuck on loading screen", type: "bug", votes: 31 },
          { title: "Add crosshair customization", content: "Need more crosshair options", type: "feature", votes: 15 },
          { title: "Sound cutting out", content: "Audio randomly stops working", type: "bug", votes: 22 },
          { title: "Rage quit mode improvements", content: "Add more handicap options", type: "feature", votes: 8 }
        ];

        function performSearch(query) {
          if (!query.trim()) {
            searchResults.innerHTML = '';
            return;
          }

          const results = feedbackDatabase.filter(item => 
            item.title.toLowerCase().includes(query.toLowerCase()) ||
            item.content.toLowerCase().includes(query.toLowerCase())
          );

          if (results.length === 0) {
            searchResults.innerHTML = '<div class="search-no-results">No matching feedback found. Yours could be the first!</div>';
            return;
          }

          searchResults.innerHTML = results.map(result => `
            <div class="search-result-item">
              <div class="search-result-title">${result.title}</div>
              <div class="search-result-preview">${result.content}</div>
              <div class="search-result-meta">
                <span>Type: ${result.type}</span>
                <span>👍 ${result.votes} votes</span>
              </div>
            </div>
          `).join('');
        }

        searchInput.addEventListener('input', (e) => {
          performSearch(e.target.value);
        });

        searchBtn.addEventListener('click', () => {
          performSearch(searchInput.value);
        });
      }

      // Enhanced form functionality
      function initEnhancedForm() {
        // Show/hide conditional fields
        const feedbackType = document.getElementById('feedback-type');
        const stepsGroup = document.getElementById('steps-group');
        const responsePrefs = document.getElementById('response-prefs');
        const emailInput = document.getElementById('email');

        feedbackType.addEventListener('change', function() {
          // Show reproduction steps for bugs
          if (this.value === 'bug') {
            stepsGroup.style.display = 'block';
          } else {
            stepsGroup.style.display = 'none';
          }
        });

        emailInput.addEventListener('input', function() {
          // Show response preferences when email is entered
          if (this.value.trim()) {
            responsePrefs.style.display = 'block';
          } else {
            responsePrefs.style.display = 'none';
          }
        });

        // File upload functionality
        initFileUpload();
        
        // Tags functionality
        initTagsSystem();
      }

      // File upload system
      function initFileUpload() {
        const fileUploadArea = document.getElementById('file-upload-area');
        const fileInput = document.getElementById('screenshots');
        const uploadedFiles = document.getElementById('uploaded-files');
        let selectedFiles = [];

        // Click to upload
        fileUploadArea.addEventListener('click', () => {
          fileInput.click();
        });

        // Drag and drop
        fileUploadArea.addEventListener('dragover', (e) => {
          e.preventDefault();
          fileUploadArea.classList.add('dragover');
        });

        fileUploadArea.addEventListener('dragleave', () => {
          fileUploadArea.classList.remove('dragover');
        });

        fileUploadArea.addEventListener('drop', (e) => {
          e.preventDefault();
          fileUploadArea.classList.remove('dragover');
          handleFiles(e.dataTransfer.files);
        });

        fileInput.addEventListener('change', (e) => {
          handleFiles(e.target.files);
        });

        function handleFiles(files) {
          Array.from(files).forEach(file => {
            if (file.size > 10 * 1024 * 1024) { // 10MB limit
              alert('File too large. Please choose files under 10MB.');
              return;
            }

            selectedFiles.push(file);
            displayFile(file);
          });
        }

        function displayFile(file) {
          const fileDiv = document.createElement('div');
          fileDiv.className = 'uploaded-file';
          
          const isImage = file.type.startsWith('image/');
          const isVideo = file.type.startsWith('video/');
          
          fileDiv.innerHTML = `
            ${isImage ? `<img src="${URL.createObjectURL(file)}" class="file-preview" alt="Preview">` : 
              isVideo ? `<video src="${URL.createObjectURL(file)}" class="file-preview" controls></video>` :
              `<div class="file-preview" style="display: flex; align-items: center; justify-content: center; background: #333;">📄</div>`}
            <div class="file-name">${file.name}</div>
            <button class="file-remove" onclick="removeFile(this)">×</button>
          `;
          
          uploadedFiles.appendChild(fileDiv);
        }

        window.removeFile = function(button) {
          const fileDiv = button.parentElement;
          const fileName = fileDiv.querySelector('.file-name').textContent;
          selectedFiles = selectedFiles.filter(file => file.name !== fileName);
          fileDiv.remove();
        };
      }

      // Tags system
      function initTagsSystem() {
        const tagInput = document.getElementById('tag-input');
        const selectedTags = document.getElementById('selected-tags');
        const tagSuggestions = document.querySelectorAll('.tag-suggestion');
        let tags = [];

        // Add tag from input
        tagInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            e.preventDefault();
            addTag(tagInput.value.trim());
            tagInput.value = '';
          }
        });

        // Add tag from suggestions
        tagSuggestions.forEach(suggestion => {
          suggestion.addEventListener('click', () => {
            addTag(suggestion.dataset.tag);
          });
        });

        function addTag(tagText) {
          if (!tagText || tags.includes(tagText)) return;
          
          tags.push(tagText);
          const tagElement = document.createElement('span');
          tagElement.className = 'selected-tag';
          tagElement.innerHTML = `
            ${tagText}
            <button class="tag-remove" onclick="removeTag('${tagText}')">×</button>
          `;
          selectedTags.appendChild(tagElement);
        }

        window.removeTag = function(tagText) {
          tags = tags.filter(tag => tag !== tagText);
          const tagElements = selectedTags.querySelectorAll('.selected-tag');
          tagElements.forEach(element => {
            if (element.textContent.includes(tagText)) {
              element.remove();
            }
          });
        };
      }

      // Auto-save draft functionality
      function initAutoSave() {
        const form = document.getElementById('feedback-form');
        const inputs = form.querySelectorAll('input, textarea, select');
        
        function saveDraft() {
          const formData = new FormData(form);
          const draft = {};
          for (let [key, value] of formData.entries()) {
            draft[key] = value;
          }
          localStorage.setItem('feedbackDraft', JSON.stringify(draft));
        }

        function loadDraft() {
          const saved = localStorage.getItem('feedbackDraft');
          if (saved) {
            const draft = JSON.parse(saved);
            Object.keys(draft).forEach(key => {
              const field = form.querySelector(`[name="${key}"]`);
              if (field) {
                field.value = draft[key];
                if (field.type === 'radio' && field.value === draft[key]) {
                  field.checked = true;
                }
              }
            });
          }
        }

        // Auto-save every 30 seconds
        inputs.forEach(input => {
          input.addEventListener('input', () => {
            clearTimeout(window.autoSaveTimeout);
            window.autoSaveTimeout = setTimeout(saveDraft, 2000);
          });
        });

        // Load draft on page load
        loadDraft();

        // Clear draft on successful submission
        form.addEventListener('submit', () => {
          localStorage.removeItem('feedbackDraft');
        });
      }

      // Character counter for textareas
      function initCharacterCounters() {
        const textareas = document.querySelectorAll('textarea');
        
        textareas.forEach(textarea => {
          const counter = document.createElement('div');
          counter.className = 'character-counter';
          counter.style.cssText = `
            text-align: right;
            color: #888;
            font-size: 0.8rem;
            margin-top: 5px;
          `;
          
          function updateCounter() {
            const length = textarea.value.length;
            const maxLength = textarea.maxLength || 1000;
            counter.textContent = `${length}/${maxLength}`;
            
            if (length > maxLength * 0.9) {
              counter.style.color = '#ff4444';
            } else if (length > maxLength * 0.7) {
              counter.style.color = '#ffb700';
            } else {
              counter.style.color = '#888';
            }
          }
          
          textarea.addEventListener('input', updateCounter);
          textarea.parentNode.appendChild(counter);
          updateCounter();
        });
      }

      // Form validation enhancements
      function initFormValidation() {
        const form = document.getElementById('feedback-form');
        
        form.addEventListener('submit', function(e) {
          let isValid = true;
          
          // Validate priority selection
          const prioritySelected = document.querySelector('input[name="priority"]:checked');
          if (!prioritySelected) {
            e.preventDefault();
            alert('Please select a priority level');
            isValid = false;
          }
          
          // Validate feedback length
          const feedbackText = document.getElementById('feedback-text');
          if (feedbackText.value.trim().length < 10) {
            e.preventDefault();
            alert('Please provide more detailed feedback (at least 10 characters)');
            isValid = false;
          }
          
          if (isValid) {
            // Show enhanced loading state
            const submitBtn = document.getElementById('send-button');
            submitBtn.innerHTML = '<span class="button-text">ANALYZING FEEDBACK...</span>';
            submitBtn.style.background = 'linear-gradient(45deg, #4444ff, #6666ff)';
          }
        });
      }

      // Initialize everything on load
      window.addEventListener("load", function () {
        initializeTicker();
        initSearchFunctionality();
        initEnhancedForm();
        initAutoSave();
        initCharacterCounters();
        initFormValidation();
      });
    </script>
  </body>
</html>
