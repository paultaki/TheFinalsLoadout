<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO Meta Tags -->
  <title>The Finals Meta Weapons | Season 8 Tier List & Analysis</title>
  <meta name="description" content="Track the best weapons in The Finals Season 8 with our interactive meta tier list. Community sentiment, pick rates, and detailed stats for every weapon." />
  <meta name="keywords" content="The Finals meta, Season 8 weapons, tier list, weapon stats, community picks" />

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="The Finals Meta Weapons | Season 8" />
  <meta property="og:description" content="Interactive Season 8 meta tier list with community sentiment and detailed weapon stats." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://thefinalsloadout.com/meta-weapons/" />

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="../images/favicon.ico">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'bg-primary': '#0a0a0a',
            'bg-card': '#111111',
            'border-primary': '#1a1a1a',
          }
        }
      }
    }
  </script>

  <style>
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    /* Animations from patch notes */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes subtleGlow {
      0%, 100% {
        box-shadow: 0 0 20px rgba(99, 102, 241, 0.1);
      }
      50% {
        box-shadow: 0 0 30px rgba(99, 102, 241, 0.2);
      }
    }

    @keyframes logoGlow {
      0%, 100% {
        filter: drop-shadow(0 0 20px rgba(99, 102, 241, 0.3));
      }
      50% {
        filter: drop-shadow(0 0 40px rgba(99, 102, 241, 0.5));
      }
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.8;
      }
    }

    @keyframes shimmer {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    .animate-fade-in-up {
      animation: fadeInUp 0.6s ease-out forwards;
    }

    .latest-banner {
      animation: subtleGlow 3s ease-in-out infinite;
    }

    .logo-glow {
      animation: logoGlow 4s ease-in-out infinite;
    }

    .pulse-glow {
      animation: pulse 2s ease-in-out infinite;
    }

    .weapon-card {
      transition: all 0.3s ease;
    }

    .weapon-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.4);
    }

    /* Image lazy load placeholder */
    .img-placeholder {
      background: linear-gradient(90deg, #1a1a1a 25%, #2a2a2a 50%, #1a1a1a 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-track {
      background: #0a0a0a;
    }

    ::-webkit-scrollbar-thumb {
      background: #1a1a1a;
      border-radius: 5px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #2a2a2a;
    }

    /* Sticky filter bar */
    #filterBar {
      transition: box-shadow 0.3s ease;
    }
  </style>
</head>

<body class="bg-bg-primary text-white min-h-screen">

  <!-- ========== NAVIGATION ========== -->
  <!-- Simple Mobile Menu -->
  <style>
    /* Hide mobile menu button on desktop */
    @media (min-width: 769px) {
      #menuBtn, #simpleMenu, #menuOverlay {
        display: none !important;
      }
    }

    /* Mobile styles */
    @media (max-width: 768px) {
      /* Hide desktop nav on mobile */
      .desktop-nav {
        display: none !important;
      }
      #simpleMenu {
        position: fixed;
        top: 0;
        left: -280px;
        width: 280px;
        height: 100vh;
        background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
        z-index: 99999;
        transition: left 0.3s ease;
        padding-top: 60px;
        box-shadow: 5px 0 20px rgba(0,0,0,0.7);
        border-right: 2px solid rgba(255, 51, 102, 0.3);
      }
      #simpleMenu.show {
        left: 0;
      }
      #simpleMenu a:hover {
        background: rgba(255, 51, 102, 0.1);
        padding-left: 25px;
      }
      #menuBtn {
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 100000;
        background: rgba(26, 26, 26, 0.95);
        color: #ff3366;
        border: 1px solid rgba(255, 51, 102, 0.3);
        border-radius: 8px;
        padding: 10px 12px;
        cursor: pointer;
        font-size: 20px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        transition: all 0.3s;
      }
      #menuBtn:hover {
        background: rgba(255, 51, 102, 0.1);
        transform: scale(1.1);
      }

      /* Dark overlay */
      #menuOverlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.5);
        z-index: 99998;
        display: none;
      }
      #menuOverlay.show {
        display: block;
      }
    }

    /* Desktop Navigation */
    .main-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding: 1rem 0;
    }

    .nav-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
      padding: 0 1rem;
    }

    .nav-link {
      color: #888;
      text-decoration: none;
      font-weight: 600;
      font-size: 0.875rem;
      letter-spacing: 0.05em;
      transition: all 0.3s ease;
      padding: 0.5rem 1rem;
      border-radius: 8px;
    }

    .nav-link:hover {
      color: #fff;
      background: rgba(99, 102, 241, 0.1);
    }

    .nav-link.active {
      color: #6366f1;
      background: rgba(99, 102, 241, 0.2);
    }

    /* Add padding to body to account for fixed nav */
    body {
      padding-top: 60px;
    }
  </style>

  <button id="menuBtn" onclick="document.getElementById('simpleMenu').classList.toggle('show'); document.getElementById('menuOverlay').classList.toggle('show')">☰</button>

  <div id="menuOverlay" onclick="document.getElementById('simpleMenu').classList.remove('show'); this.classList.remove('show')"></div>

  <div id="simpleMenu">
    <a href="/" style="display:block;color:white;padding:15px;border-bottom:1px solid #333;text-decoration:none;transition:all 0.3s;">LOADOUT GENERATOR</a>
    <a href="/ragequit/" style="display:block;color:white;padding:15px;border-bottom:1px solid #333;text-decoration:none;transition:all 0.3s;">RAGE QUIT</a>
    <a href="/patch-notes/" style="display:block;color:white;padding:15px;border-bottom:1px solid #333;text-decoration:none;transition:all 0.3s;">PATCH NOTES</a>
    <a href="/meta-weapons/" style="display:block;color:white;padding:15px;border-bottom:1px solid #333;text-decoration:none;transition:all 0.3s;">META WEAPONS</a>
    <a href="/wt-progress/" style="display:block;color:white;padding:15px;border-bottom:1px solid #333;text-decoration:none;transition:all 0.3s;">WORLD TOUR</a>
  </div>

  <!-- Navigation Bar (Desktop) -->
  <nav class="main-nav desktop-nav">
    <div class="nav-links desktop-nav-links">
      <a href="/" class="nav-link">LOADOUT GENERATOR</a>
      <a href="/ragequit/" class="nav-link">RAGE QUIT</a>
      <a href="/patch-notes/" class="nav-link">PATCH NOTES</a>
      <a href="/meta-weapons/" class="nav-link active">META WEAPONS</a>
      <a href="/wt-progress/" class="nav-link">WORLD TOUR</a>
    </div>
  </nav>

  <!-- ========== HERO SECTION ========== -->
  <section class="relative min-h-screen max-h-screen flex flex-col justify-start items-center px-4 pt-12 pb-12">
    <!-- Animated Background Grid -->
    <div class="absolute inset-0 opacity-5">
      <div class="absolute inset-0" style="background-image: linear-gradient(#6366f1 1px, transparent 1px), linear-gradient(90deg, #6366f1 1px, transparent 1px); background-size: 50px 50px;"></div>
    </div>

    <div class="relative z-10 max-w-7xl w-full mx-auto">
      <!-- Logo with Animation -->
      <div class="flex justify-center mb-8 animate-fade-in-up">
        <img src="/meta-weapons/images/logo-meta-weapon.png" alt="Meta Weapons" class="max-w-xs w-full h-auto logo-glow">
      </div>

      <!-- Latest Season Banner -->
      <div class="latest-banner max-w-4xl mx-auto mb-12 bg-bg-card border border-indigo-500 rounded-xl p-6 animate-fade-in-up" style="animation-delay: 0.1s;">
        <div class="flex items-center justify-between flex-wrap gap-4">
          <div>
            <p class="text-sm text-gray-400 mb-1">Current Season</p>
            <h2 class="text-3xl font-bold">Season 8: GAME TIME</h2>
            <p class="text-sm text-gray-400 mt-1">Updated: October 10, 2025 • Patch 8.3.1</p>
          </div>
          <span class="px-4 py-2 bg-indigo-500/20 text-indigo-400 rounded-full text-sm font-semibold">LIVE NOW</span>
        </div>
      </div>

      <!-- Spotlight: Top 1 by Class -->
      <div class="max-w-7xl mx-auto mb-8">
        <h3 class="text-2xl font-bold mb-6 text-center">Top 1 by Class</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">

          <!-- ARN-220 (Top Light) -->
          <div class="bg-bg-card border border-border-primary rounded-xl p-5 hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 animate-fade-in-up" style="animation-delay: 0.2s;">
            <div class="flex items-start gap-4 relative">
              <span class="absolute top-0 right-0 text-xs font-mono text-cyan-400 bg-cyan-500/20 px-2 py-1 rounded">#1 Light</span>
              <img src="images/ARN-220.webp" alt="ARN-220" class="w-20 h-20 rounded-lg flex-shrink-0 object-cover img-placeholder" loading="lazy">
              <div class="flex-1 min-w-0">
                <h3 class="font-bold text-lg mb-1 truncate">ARN-220</h3>
                <span class="inline-block px-2 py-1 bg-green-500/20 text-green-500 rounded text-xs font-semibold mb-2">S-TIER</span>
                <p class="text-xs text-gray-400 mb-1">Pick Rate: 32%</p>
                <p class="text-sm text-gray-400">TTK: <span class="font-mono text-white">0.66s</span></p>
              </div>
            </div>
          </div>

          <!-- P90 (Top Medium) -->
          <div class="bg-bg-card border border-border-primary rounded-xl p-5 hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 animate-fade-in-up" style="animation-delay: 0.3s;">
            <div class="flex items-start gap-4 relative">
              <span class="absolute top-0 right-0 text-xs font-mono text-violet-400 bg-violet-500/20 px-2 py-1 rounded">#1 Medium</span>
              <img src="images/P90.webp" alt="P90" class="w-20 h-20 rounded-lg flex-shrink-0 object-cover img-placeholder" loading="lazy">
              <div class="flex-1 min-w-0">
                <h3 class="font-bold text-lg mb-1 truncate">P90</h3>
                <span class="inline-block px-2 py-1 bg-green-500/20 text-green-500 rounded text-xs font-semibold mb-2">S-TIER</span>
                <p class="text-xs text-gray-400 mb-1">Pick Rate: 40% • NEW S8</p>
                <p class="text-sm text-gray-400">TTK: <span class="font-mono text-white">0.65s</span></p>
              </div>
            </div>
          </div>

          <!-- BFR Titan (Top Heavy) -->
          <div class="bg-bg-card border border-border-primary rounded-xl p-5 hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 animate-fade-in-up" style="animation-delay: 0.4s;">
            <div class="flex items-start gap-4 relative">
              <span class="absolute top-0 right-0 text-xs font-mono text-orange-400 bg-orange-500/20 px-2 py-1 rounded">#1 Heavy</span>
              <img src="images/BFR_Titan.webp" alt="BFR Titan" class="w-20 h-20 rounded-lg flex-shrink-0 object-cover img-placeholder" loading="lazy">
              <div class="flex-1 min-w-0">
                <h3 class="font-bold text-lg mb-1 truncate">BFR Titan</h3>
                <span class="inline-block px-2 py-1 bg-green-500/20 text-green-500 rounded text-xs font-semibold mb-2">S-TIER</span>
                <p class="text-xs text-gray-400 mb-1">Pick Rate: 38% • NEW S8</p>
                <p class="text-sm text-gray-400">TTK: <span class="font-mono text-white">0.50s</span></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Scroll Indicator -->
      <div class="text-center animate-fade-in-up" style="animation-delay: 0.8s;">
        <p class="text-gray-400 text-sm mb-2">Scroll for all weapons</p>
        <svg class="w-6 h-6 mx-auto animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        </svg>
      </div>
    </div>
  </section>

  <!-- ========== STICKY FILTER BAR ========== -->
  <div id="filterBar" class="sticky top-0 z-50 bg-bg-primary/95 backdrop-blur-md border-b border-border-primary transition-all duration-300">
    <div class="max-w-7xl mx-auto px-4 py-3 lg:py-4">
      <!-- Row 1: Change Type Filters -->
      <div class="flex gap-2 flex-wrap justify-center mb-3">
        <button onclick="filterByType('all')" class="type-filter active px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 bg-gray-700 text-white">
          All
        </button>
        <button onclick="filterByType('meta')" class="type-filter px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 bg-bg-card border border-border-primary text-gray-400 hover:text-green-500 hover:border-green-500">
          S/A Tier Only
        </button>
        <button onclick="filterByType('loved')" class="type-filter px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 bg-bg-card border border-border-primary text-gray-400 hover:text-blue-500 hover:border-blue-500">
          Community Loved
        </button>
        <button onclick="filterByType('new')" class="type-filter px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 bg-bg-card border border-border-primary text-gray-400 hover:text-indigo-500 hover:border-indigo-500">
          New S8
        </button>
      </div>

      <!-- Row 2: Class + Search -->
      <div class="flex flex-col md:flex-row gap-3 items-center justify-center">
        <!-- Class Filters -->
        <div class="w-full md:w-auto">
          <!-- Mobile Dropdown -->
          <select id="classSelect" onchange="filterByClass(this.value)" class="md:hidden w-full px-4 py-2 bg-bg-card border border-border-primary rounded-lg text-white focus:outline-none focus:border-indigo-500 transition-colors">
            <option value="all">All Classes</option>
            <option value="light">Light</option>
            <option value="medium">Medium</option>
            <option value="heavy">Heavy</option>
          </select>
          <!-- Desktop Buttons -->
          <div class="hidden md:flex gap-2">
            <button onclick="filterByClass('all')" class="class-filter active px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 bg-indigo-500/20 text-indigo-400">
              All Classes
            </button>
            <button onclick="filterByClass('light')" class="class-filter px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 bg-bg-card border border-border-primary text-gray-400">
              Light
            </button>
            <button onclick="filterByClass('medium')" class="class-filter px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 bg-bg-card border border-border-primary text-gray-400">
              Medium
            </button>
            <button onclick="filterByClass('heavy')" class="class-filter px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 bg-bg-card border border-border-primary text-gray-400">
              Heavy
            </button>
          </div>
        </div>

        <!-- Search Input -->
        <div class="relative w-full md:w-64">
          <input
            type="text"
            id="searchInput"
            placeholder="Search weapons..."
            class="w-full px-4 py-2 bg-bg-card border border-border-primary rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-indigo-500 transition-colors"
          />
          <svg class="absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
      </div>
    </div>
  </div>

  <!-- ========== MAIN CONTENT ========== -->
  <section class="max-w-7xl mx-auto px-4 py-12">

    <!-- No Results Message -->
    <div id="noResults" class="hidden text-center py-12">
      <svg class="w-16 h-16 mx-auto text-gray-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>
      <h3 class="text-2xl font-bold mb-2 text-gray-400">No weapons found</h3>
      <p class="text-gray-500">Try adjusting your filters or search query</p>
    </div>

    <!-- Light Class -->
    <section class="class-section mb-16" data-class="light">
      <div class="flex items-center gap-3 mb-6">
        <div class="w-12 h-12 rounded-full bg-cyan-500/20 border-2 border-cyan-500 flex items-center justify-center">
          <span class="text-cyan-500 font-bold text-lg">L</span>
        </div>
        <div>
          <h2 class="text-3xl font-bold">Light</h2>
          <p class="text-gray-400 text-sm light-count">13 weapons</p>
        </div>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="lightWeapons"></div>
    </section>

    <!-- Medium Class -->
    <section class="class-section mb-16" data-class="medium">
      <div class="flex items-center gap-3 mb-6">
        <div class="w-12 h-12 rounded-full bg-violet-500/20 border-2 border-violet-500 flex items-center justify-center">
          <span class="text-violet-500 font-bold text-lg">M</span>
        </div>
        <div>
          <h2 class="text-3xl font-bold">Medium</h2>
          <p class="text-gray-400 text-sm medium-count">12 weapons</p>
        </div>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="mediumWeapons"></div>
    </section>

    <!-- Heavy Class -->
    <section class="class-section mb-16" data-class="heavy">
      <div class="flex items-center gap-3 mb-6">
        <div class="w-12 h-12 rounded-full bg-orange-500/20 border-2 border-orange-500 flex items-center justify-center">
          <span class="text-orange-500 font-bold text-lg">H</span>
        </div>
        <div>
          <h2 class="text-3xl font-bold">Heavy</h2>
          <p class="text-gray-400 text-sm heavy-count">12 weapons</p>
        </div>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="heavyWeapons"></div>
    </section>

  </section>

  <!-- ========== FOOTER ========== -->
  <footer class="border-t border-border-primary bg-bg-card py-8 mt-12">
    <div class="max-w-7xl mx-auto px-4 text-center">
      <!-- Support Section -->
      <div style="margin-bottom: 2rem; padding: 1.5rem; background: rgba(80, 200, 120, 0.05); border: 1px solid rgba(80, 200, 120, 0.2); border-radius: 12px; max-width: 500px; margin-left: auto; margin-right: auto;">
        <div style="display:flex;align-items:center;justify-content:center;gap:1rem;flex-wrap:wrap;margin-bottom:1rem;">
          <span style="font-size:1.5rem;">☕</span>
          <div>
            <p style="margin:0;color:#50c878;font-weight:600;font-size:0.9rem;">Enjoying the meta weapons tracker?</p>
            <p style="margin:0.25rem 0 0 0;color:#b8bfc6;font-size:0.8rem;">Help keep it running with a coffee!</p>
          </div>
        </div>
        <a href="https://ko-fi.com/nextroundonme" target="_blank" rel="noopener" style="display: inline-block; padding: 0.75rem 1.5rem; background: linear-gradient(135deg, #50c878, #2e8b57); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(80, 200, 120, 0.3);">
          <span>💚 Support Me</span>
        </a>
      </div>

      <p style="margin:0 0 0.5rem 0;" class="text-gray-400 text-sm">
        © 2025 TheFinalsLoadout.com | Created by
        <a href="https://www.paultakisaki.com/" rel="author" style="color:#6366f1;text-decoration:none;">Paul Takisaki</a>
      </p>
      <p class="text-gray-500 text-xs mb-4">Not affiliated with Embark Studios</p>
      <div style="display:flex;justify-content:center;gap:2rem;flex-wrap:wrap;font-size:0.75rem;margin-top:0.5rem;">
        <a href="/" class="text-indigo-400 hover:text-white transition-colors">Loadout Generator</a>
        <a href="/ragequit/" class="text-indigo-400 hover:text-white transition-colors">Rage Quit</a>
        <a href="/patch-notes/" class="text-indigo-400 hover:text-white transition-colors">Patch Notes</a>
        <a href="/meta-weapons/" class="text-indigo-400 hover:text-white transition-colors">Meta Weapons</a>
        <a href="/wt-progress/" class="text-indigo-400 hover:text-white transition-colors">World Tour</a>
        <a href="/legal/" class="text-indigo-400 hover:text-white transition-colors">Legal</a>
        <a href="https://thefinalsloadout.com/feedback" class="text-yellow-400 hover:text-white transition-colors">📝 Feedback</a>
      </div>
    </div>
  </footer>

  <!-- ========== JAVASCRIPT ========== -->
  <script>
    // Weapon data
    const weaponData = {
      light: [
        { name: "ARN-220", tier: "S", ttk: 0.66, rounds: 30, range: "Mid", sentiment: 0.88, pickRate: 0.32, hot: true, status: "Unchanged", image: "ARN-220.webp" },
        { name: "XP-54", tier: "A", ttk: 0.63, rounds: 34, range: "Close-Mid", sentiment: 0.85, pickRate: 0.28, hot: true, status: "Nerfed", image: "XP-54.webp" },
        { name: "M11", tier: "A", ttk: 0.54, rounds: 40, range: "Close", sentiment: 0.82, pickRate: 0.25, hot: false, status: "Nerfed", image: "M11.webp" },
        { name: "V9S", tier: "B", ttk: 0.50, rounds: 20, range: "Close", sentiment: 0.90, pickRate: 0.22, hot: true, status: "Unchanged", image: "V9S.webp" },
        { name: "93R", tier: "B", ttk: 0.52, rounds: 24, range: "Close", sentiment: 0.78, pickRate: 0.18, hot: false, status: "Buffed", image: "93R.webp" },
        { name: "SR-84", tier: "B", ttk: 0.78, rounds: 6, range: "Long", sentiment: 0.75, pickRate: 0.15, hot: false, status: "Unchanged", image: "SR-84.webp" },
        { name: "LH1", tier: "C", ttk: 0.67, rounds: 15, range: "Mid-Long", sentiment: 0.82, pickRate: 0.14, hot: false, status: "Buffed", image: "LH1.webp" },
        { name: "SH1900", tier: "C", ttk: 0.00, rounds: 2, range: "Close", sentiment: 0.75, pickRate: 0.12, hot: false, status: "Unchanged", image: "SH1900.webp" },
        { name: "Recurve Bow", tier: "C", ttk: 1.25, rounds: "∞", range: "Mid", sentiment: 0.72, pickRate: 0.08, hot: false, status: "Unchanged", image: "Recurve_Bow.webp" },
        { name: "Throwing Knives", tier: "C", ttk: 0.78, rounds: "∞", range: "Mid", sentiment: 0.68, pickRate: 0.06, hot: false, status: "Unchanged", image: "Throwing_Knives.webp" },
        { name: "Dagger", tier: "D", ttk: 1.21, rounds: "∞", range: "Melee", sentiment: 0.65, pickRate: 0.04, hot: false, status: "Buffed", image: "Dagger.webp" },
        { name: "Sword", tier: "E", ttk: 1.38, rounds: "∞", range: "Melee", sentiment: 0.62, pickRate: 0.03, hot: false, status: "Buffed", image: "Sword.webp" },
        { name: "M26 Matter", tier: "E", ttk: 0.71, rounds: 8, range: "Close", sentiment: 0.58, pickRate: 0.02, hot: false, status: "Unchanged", image: "M26_Matter.webp" }
      ],
      medium: [
        { name: "P90", tier: "S", ttk: 0.65, rounds: 50, range: "Close-Mid", sentiment: 0.95, pickRate: 0.40, hot: true, status: "NEW S8", image: "P90.webp" },
        { name: "AKM", tier: "S", ttk: 0.75, rounds: 32, range: "Mid", sentiment: 0.92, pickRate: 0.35, hot: true, status: "Unchanged", image: "AKM.webp" },
        { name: "FCAR", tier: "S", ttk: 0.67, rounds: 25, range: "Mid", sentiment: 0.88, pickRate: 0.30, hot: true, status: "Unchanged", image: "FCAR.webp" },
        { name: "Cerberus 12GA", tier: "S", ttk: 0.60, rounds: 3, range: "Close", sentiment: 0.85, pickRate: 0.28, hot: true, status: "Unknown", image: "Cerberus_12GA.webp" },
        { name: "CL-40", tier: "A", ttk: 0.80, rounds: 5, range: "Mid", sentiment: 0.70, pickRate: 0.20, hot: false, status: "Nerfed", image: "CL-40.webp" },
        { name: "FAMAS", tier: "B", ttk: 0.74, rounds: 27, range: "Mid", sentiment: 0.78, pickRate: 0.18, hot: false, status: "Unchanged", image: "FAMAS.webp" },
        { name: "CB-01 Repeater", tier: "NR", ttk: 0.78, rounds: 8, range: "Long", sentiment: 0.65, pickRate: 0.08, hot: false, status: "Unchanged", image: "CB-01_Repeater.webp" },
        { name: "R.357", tier: "C", ttk: 0.86, rounds: 6, range: "Mid", sentiment: 0.72, pickRate: 0.10, hot: false, status: "Unchanged", image: "R.357.webp" },
        { name: "Pike-556", tier: "C", ttk: 0.90, rounds: 12, range: "Long", sentiment: 0.68, pickRate: 0.08, hot: false, status: "Unchanged", image: "Pike-556.webp" },
        { name: "Model 1887", tier: "D", ttk: 0.90, rounds: 6, range: "Close", sentiment: 0.65, pickRate: 0.06, hot: false, status: "Unchanged", image: "Model_1887.webp" },
        { name: "Dual Blades", tier: "E", ttk: 2.50, rounds: "∞", range: "Melee", sentiment: 0.55, pickRate: 0.02, hot: false, status: "Buffed", image: "Dual_Blades.webp" },
        { name: "Riot Shield", tier: "E", ttk: "N/A", rounds: "∞", range: "Melee", sentiment: 0.50, pickRate: 0.01, hot: false, status: "Buffed", image: "Riot_Shield.webp" }
      ],
      heavy: [
        { name: "BFR Titan", tier: "S", ttk: 0.50, rounds: 6, range: "Mid-Long", sentiment: 0.94, pickRate: 0.38, hot: true, status: "NEW S8", image: "BFR_Titan.webp" },
        { name: "ShAK-50", tier: "S", ttk: 0.57, rounds: 20, range: "Mid", sentiment: 0.92, pickRate: 0.35, hot: true, status: "Unchanged", image: "SHAK-50.webp" },
        { name: "M134 Minigun", tier: "A", ttk: 0.52, rounds: 250, range: "Close", sentiment: 0.88, pickRate: 0.25, hot: true, status: "Unchanged", image: "M134_Minigun.webp" },
        { name: "M60", tier: "A", ttk: 0.72, rounds: 100, range: "Mid", sentiment: 0.85, pickRate: 0.22, hot: true, status: "Unchanged", image: "M60.webp" },
        { name: ".50 Akimbo", tier: "A", ttk: 0.78, rounds: 14, range: "Close", sentiment: 0.80, pickRate: 0.18, hot: false, status: "Unchanged", image: ".50_Akimbo.webp" },
        { name: "Flamethrower", tier: "A", ttk: 1.41, rounds: 30, range: "Close", sentiment: 0.70, pickRate: 0.12, hot: false, status: "Unchanged", image: "Flamethrower.webp" },
        { name: "Lewis Gun", tier: "B", ttk: 0.72, rounds: 47, range: "Mid", sentiment: 0.78, pickRate: 0.15, hot: false, status: "Unchanged", image: "Lewis_Gun.webp" },
        { name: "SA1216", tier: "D", ttk: 0.30, rounds: 16, range: "Close", sentiment: 0.75, pickRate: 0.14, hot: false, status: "Unchanged", image: "SA1216.webp" },
        { name: "KS-23", tier: "C", ttk: 0.82, rounds: 6, range: "Mid", sentiment: 0.72, pickRate: 0.10, hot: false, status: "Buffed", image: "KS-23.webp" },
        { name: "Sledgehammer", tier: "C", ttk: "Variable", rounds: "∞", range: "Melee", sentiment: 0.68, pickRate: 0.08, hot: false, status: "Mixed", image: "Sledgehammer.webp" },
        { name: "Spear", tier: "D", ttk: "Variable", rounds: "∞", range: "Melee", sentiment: 0.60, pickRate: 0.04, hot: false, status: "Buffed", image: "Spear.webp" },
        { name: "MGL32", tier: "E", ttk: 0.67, rounds: 6, range: "Mid", sentiment: 0.55, pickRate: 0.02, hot: false, status: "Unchanged", image: "MGL32.webp" }
      ]
    };

    // State management
    let filters = {
      type: 'all',
      class: 'all',
      search: ''
    };

    // Render weapon card
    function renderWeaponCard(weapon, weaponClass) {
      const tierColors = {
        'S': 'bg-green-500/20 text-green-500',
        'A': 'bg-blue-500/20 text-blue-500',
        'B': 'bg-yellow-500/20 text-yellow-500',
        'C': 'bg-orange-500/20 text-orange-500',
        'D': 'bg-red-500/20 text-red-500',
        'E': 'bg-gray-500/20 text-gray-500',
        'NR': 'bg-gray-600/20 text-gray-400'
      };

      const classColors = {
        'light': 'bg-cyan-500/20 text-cyan-400',
        'medium': 'bg-violet-500/20 text-violet-400',
        'heavy': 'bg-orange-500/20 text-orange-400'
      };

      const sentimentBar = weapon.sentiment >= 0.8 ? 'bg-green-500' : weapon.sentiment >= 0.6 ? 'bg-yellow-500' : 'bg-red-500';
      const ttkDisplay = typeof weapon.ttk === 'number' ? weapon.ttk.toFixed(2) + 's' : weapon.ttk;

      const statusBadge = weapon.status === 'NEW S8'
        ? `<span class="absolute top-2 right-2 text-xs font-bold px-2 py-1 bg-indigo-500/30 text-indigo-300 rounded-full pulse-glow">NEW S8</span>`
        : weapon.hot
        ? `<span class="absolute top-2 right-2 text-xs font-bold px-2 py-1 bg-red-500/30 text-red-400 rounded-full">HOT</span>`
        : '';

      return `
        <div class="weapon-card bg-bg-card border border-border-primary rounded-xl p-4 relative" data-weapon="${weapon.name.toLowerCase()}" data-tier="${weapon.tier}" data-class="${weaponClass}" data-status="${weapon.status}">
          ${statusBadge}
          <div class="flex items-start gap-4 mb-4">
            <img src="images/${weapon.image}" alt="${weapon.name}" class="w-20 h-20 rounded-lg object-cover img-placeholder" loading="lazy">
            <div class="flex-1">
              <h3 class="font-bold text-lg mb-2">${weapon.name}</h3>
              <div class="flex gap-2 mb-2">
                <span class="px-2 py-1 ${tierColors[weapon.tier]} rounded text-xs font-semibold">${weapon.tier === 'NR' ? 'Not Ranked' : weapon.tier + '-TIER'}</span>
                <span class="px-2 py-1 ${classColors[weaponClass]} rounded text-xs font-semibold uppercase">${weaponClass}</span>
              </div>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-3 mb-3">
            <div>
              <p class="text-xs text-gray-500 mb-1">TTK</p>
              <p class="text-sm font-mono font-semibold">${ttkDisplay}</p>
            </div>
            <div>
              <p class="text-xs text-gray-500 mb-1">Magazine</p>
              <p class="text-sm font-mono font-semibold">${weapon.rounds}</p>
            </div>
            <div>
              <p class="text-xs text-gray-500 mb-1">Range</p>
              <p class="text-sm font-semibold">${weapon.range}</p>
            </div>
            <div>
              <p class="text-xs text-gray-500 mb-1">Pick Rate</p>
              <p class="text-sm font-semibold">${(weapon.pickRate * 100).toFixed(0)}%</p>
            </div>
          </div>

          <div class="pt-3 border-t border-gray-800">
            <p class="text-xs text-gray-500 mb-2">Community Sentiment</p>
            <div class="flex items-center gap-2">
              <div class="flex-1 h-2 bg-gray-800 rounded-full overflow-hidden">
                <div class="${sentimentBar} h-full transition-all duration-300" style="width: ${weapon.sentiment * 100}%"></div>
              </div>
              <span class="text-xs font-semibold">${(weapon.sentiment * 100).toFixed(0)}%</span>
            </div>
          </div>
        </div>
      `;
    }

    // Filter weapons
    function applyFilters() {
      const allCards = document.querySelectorAll('.weapon-card');
      let visibleCount = 0;

      allCards.forEach(card => {
        let show = true;

        // Type filter
        if (filters.type === 'meta') {
          const tier = card.dataset.tier;
          if (tier !== 'S' && tier !== 'A') show = false;
        } else if (filters.type === 'loved') {
          // This would need sentiment data in dataset, simplified for now
          show = true; // Would check sentiment >= 0.8
        } else if (filters.type === 'new') {
          if (!card.dataset.status.includes('NEW S8')) show = false;
        }

        // Class filter
        if (filters.class !== 'all' && card.dataset.class !== filters.class) {
          show = false;
        }

        // Search filter
        if (filters.search && !card.dataset.weapon.includes(filters.search.toLowerCase())) {
          show = false;
        }

        if (show) {
          card.style.display = 'block';
          setTimeout(() => card.style.opacity = '1', 10);
          visibleCount++;
        } else {
          card.style.opacity = '0';
          setTimeout(() => card.style.display = 'none', 300);
        }
      });

      // Update counts
      ['light', 'medium', 'heavy'].forEach(cls => {
        const section = document.querySelector(`[data-class="${cls}"]`);
        const visibleCards = section.querySelectorAll('.weapon-card[style*="display: block"]').length;
        section.querySelector(`.${cls}-count`).textContent = `${visibleCards} weapons`;
        section.style.display = visibleCards > 0 ? 'block' : 'none';
      });

      // Show/hide no results
      document.getElementById('noResults').classList.toggle('hidden', visibleCount > 0);
    }

    // Filter functions
    function filterByType(type) {
      filters.type = type;
      document.querySelectorAll('.type-filter').forEach(btn => {
        btn.classList.remove('active', 'bg-gray-700', 'text-white');
        btn.classList.add('bg-bg-card', 'border', 'border-border-primary', 'text-gray-400');
      });
      event.target.classList.add('active', 'bg-gray-700', 'text-white');
      event.target.classList.remove('bg-bg-card', 'border', 'border-border-primary', 'text-gray-400');
      applyFilters();
    }

    function filterByClass(cls) {
      filters.class = cls;

      // Update mobile select
      document.getElementById('classSelect').value = cls;

      // Update desktop buttons
      document.querySelectorAll('.class-filter').forEach(btn => {
        btn.classList.remove('active', 'bg-indigo-500/20', 'text-indigo-400');
        btn.classList.add('bg-bg-card', 'border', 'border-border-primary', 'text-gray-400');
      });

      const activeBtn = event?.target || document.querySelector(`.class-filter[onclick*="${cls}"]`);
      if (activeBtn && activeBtn.classList.contains('class-filter')) {
        activeBtn.classList.add('active', 'bg-indigo-500/20', 'text-indigo-400');
        activeBtn.classList.remove('bg-bg-card', 'border', 'border-border-primary', 'text-gray-400');
      }

      applyFilters();
    }

    // Search with debounce
    let searchTimeout;
    document.getElementById('searchInput').addEventListener('input', (e) => {
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(() => {
        filters.search = e.target.value.toLowerCase();
        applyFilters();
      }, 200);
    });

    // Sticky filter bar shadow on scroll
    window.addEventListener('scroll', () => {
      const filterBar = document.getElementById('filterBar');
      if (window.scrollY > 100) {
        filterBar.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.3)';
      } else {
        filterBar.style.boxShadow = 'none';
      }
    });

    // Initial render
    document.addEventListener('DOMContentLoaded', () => {
      // Render light weapons
      document.getElementById('lightWeapons').innerHTML = weaponData.light.map(w => renderWeaponCard(w, 'light')).join('');

      // Render medium weapons
      document.getElementById('mediumWeapons').innerHTML = weaponData.medium.map(w => renderWeaponCard(w, 'medium')).join('');

      // Render heavy weapons
      document.getElementById('heavyWeapons').innerHTML = weaponData.heavy.map(w => renderWeaponCard(w, 'heavy')).join('');

      console.log('✅ Meta Weapons V2 loaded');
    });
  </script>

</body>
</html>
