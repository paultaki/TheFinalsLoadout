/**
 * ULTIMATE Fix V2 - Show 2.5-3 items AND item names
 * Load this LAST after ALL other CSS
 */

/* Kill all other height rules - make windows TALLER */
html body .container .slot-machine-container .slot-machine .slot-columns .slot-column .slot-window,
html body .slot-window,
body .slot-window,
.slot-window,
.slot-viewport,
div.slot-window,
div.slot-viewport,
.slot-column .slot-window,
.slot-column > .slot-window {
  height: 240px !important;  /* Show 3 full items (3 Ã— 80px) */
  max-height: 240px !important;
  min-height: 240px !important;
  overflow: hidden !important;
  position: relative !important;
}

/* Item heights with text space */
html body .slot-item,
.slot-items .slot-item,
.slot-items > .slot-item,
.slot-item,
div.slot-item {
  height: 80px !important;
  max-height: 80px !important;
  min-height: 80px !important;
  display: flex !important;
  flex-direction: column !important;  /* Stack image and text vertically */
  align-items: center !important;
  justify-content: center !important;
  box-sizing: border-box !important;
  padding: 4px !important;
  position: relative !important;
}

/* Ensure images don't take all space - leave room for text */
.slot-item img {
  max-height: 48px !important;  /* Smaller image to leave room for text */
  max-width: 90% !important;
  width: auto !important;
  height: auto !important;
  object-fit: contain !important;
  display: block !important;
  margin: 0 auto !important;
}

/* Item label text styling - FORCE VISIBILITY */
.slot-item .item-label,
.item-label {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  font-size: 10px !important;
  line-height: 1.2 !important;
  color: #fff !important;
  text-align: center !important;
  margin-top: 4px !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  max-width: 100% !important;
  padding: 0 2px !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  font-weight: 500 !important;
  position: relative !important;
  z-index: 10 !important;
  background: transparent !important;
  text-shadow: 0 1px 2px rgba(0,0,0,0.8) !important;
}

/* Ensure labels in slot items are visible */
.slot-items .item-label,
.slot-column .item-label {
  display: block !important;
  opacity: 1 !important;
  font-size: 9px !important;
  color: rgba(255, 255, 255, 0.95) !important;
}

/* Kill any media query overrides */
@media screen and (max-width: 9999px) {
  .slot-window,
  .slot-viewport {
    height: 240px !important;  /* 3 items visible */
    max-height: 240px !important;
    min-height: 240px !important;
  }
  
  .slot-item {
    height: 80px !important;
    max-height: 80px !important;
    min-height: 80px !important;
  }
  
  .slot-item img {
    max-height: 48px !important;
  }
}

@media (max-width: 768px) {
  .slot-window,
  .slot-viewport {
    height: 240px !important;  /* Keep full height on tablet */
  }
  
  .slot-item {
    height: 80px !important;
  }
}

@media (max-width: 480px) {
  .slot-window,
  .slot-viewport {
    height: 200px !important;  /* Slightly shorter on mobile but still 2.5 items */
  }
  
  .slot-item {
    height: 80px !important;
  }
  
  .slot-item img {
    max-height: 45px !important;  /* Slightly smaller on mobile */
  }
  
  .slot-item .item-name,
  .slot-item span {
    font-size: 9px !important;  /* Slightly smaller text on mobile */
  }
}

/* Remove gap above slot machine */
.pre-slot-container {
  min-height: 0 !important;
  max-height: none !important;
  height: auto !important;
}

/* If pre-slot has content, limit it */
.pre-slot-container:not(:empty) {
  max-height: 200px !important;
  overflow: hidden !important;
}

/* Ensure proper spacing */
.top-controls {
  margin-bottom: 2rem !important;
}

.header {
  margin-bottom: 1rem !important;
}

/* Gradient overlays adjusted for taller window */
.slot-window::before,
.slot-window::after {
  height: 30px !important;  /* Thinner gradients */
  pointer-events: none !important;
}

.slot-window::before {
  background: linear-gradient(180deg, rgba(10,10,10,1) 0%, transparent 100%) !important;
}

.slot-window::after {
  background: linear-gradient(0deg, rgba(10,10,10,1) 0%, transparent 100%) !important;
}

/* Ensure winner items are styled properly */
.slot-item.winner {
  border: 2px solid #ff6600 !important;
  background: rgba(255, 102, 0, 0.1) !important;
}

/* Debug helper - can remove later */
.slot-window[data-debug]::after {
  content: "Height: 240px (3 items)";
  position: absolute;
  bottom: -20px;
  left: 0;
  font-size: 10px;
  color: #0f0;
  z-index: 999;
}

/* Removed ::after fallback - using real labels instead */